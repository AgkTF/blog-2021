import { TagPill, Post } from 'components/UIElements';
import image from './cities.jpg';
import Image from 'next/image';

export const meta = {
  postTitle: 'Building custom select components in react',
  publishDate: '2021-12-03',
  updateDate: '',
  featureIndex: 1,
  tagNames: ['React', 'Tailwind', 'Tutorial'],
  imgPreview: { image },
  blurDataURL:
    'data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAADAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAeEAACAgICAwAAAAAAAAAAAAABAwIFABEEBgchUf/EABQBAQAAAAAAAAAAAAAAAAAAAAP/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8Au8PduvLiis22XPk+abFiFbXABa4wXqMQAAANn0PpxjGLRx//2Q==',
  altText:
    'The Rock and Roll Hall of Fame and Museum, Cleveland, United States',
  postPreview:
    "In this blog post we'll build a select component in React using tailwindcss for styling and react-final-form for managing form state.",
  pageDescription: 'Building custom select components in react',
  pageUrl: '/building-form-components/custom-select-components-in-react',
};

export default ({ children }) => <Post meta={meta}>{children}</Post>;

<figure>
  <Image
    src={image}
    alt="The Rock and Roll Hall of Fame and Museum, Cleveland, United States"
    width="1920"
    height="1280"
    layout="responsive"
    className="object-cover"
    priority
    placeholder="blur"
    blurDataURL="data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAADAAQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAT/xAAeEAACAgICAwAAAAAAAAAAAAABAwIFABEEBgchUf/EABQBAQAAAAAAAAAAAAAAAAAAAAP/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEQMRAD8Au8PduvLiis22XPk+abFiFbXABa4wXqMQAAANn0PpxjGLRx//2Q=="
  />
  <figcaption>
    Photo by{' '}
    <a href="https://unsplash.com/@lanceanderson?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">
      Lance Anderson
    </a>{' '}
    on{' '}
    <a href="https://unsplash.com/s/photos/building?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText">
      Unsplash
    </a>
  </figcaption>
</figure>

In this blog post we'll build a custom _select field_ component in React using the following technologies -or tools, if you prefer to call them that-.

- [Tailwindcss](https://tailwindcss.com/) for styling.
- [react-final-form](https://final-form.org/react) for managing our form state.

## Preparing a new React & Tailwind project

First we'll create a new react project using CRA or [create-react-app](https://create-react-app.dev) since it's the most common and easiest way to bootstrap a new react project.

```shell
npx create-react-app custom-select-field
cd custom-select-field
```

Next we'll setup Tailwind CSS following their guide -which in my opinion is a great resource-.  
Here is the [link](https://tailwindcss.com/docs/guides/create-react-app) to it if you want to give it a read. If you don't have the time for that, all the steps will be clearly shown down here.

1. Install tailwind and its peer-dependencies using the following command:

```shell
npm install -D tailwindcss@npm:@tailwindcss/postcss7-compat postcss@^7 autoprefixer@^9
```

2. Install and configure [CRACO](https://www.npmjs.com/package/@craco/craco) to be able to configure PostCss using the following command:

```shell
npm install @craco/craco
```

3. Update the scripts in your `package.json` file; replace `react-scripts` with `craco`:

```json
// package.json
{
  // ...
  "scripts": {
    "start": "craco start",
    "build": "craco build",
    "test": "craco test",
    "eject": "react-scripts eject"
  }
}
```

4- Create a `craco.config.js` file at the root of the project (next to the `src` folder) and add
`tailwindcss` and `autoprefixer` plugins as follows:

```js
// craco.config.js
module.exports = {
  style: {
    postcss: {
      plugins: [require('tailwindcss'), require('autoprefixer')],
    },
  },
};
```

5- Create a tailwindcss configuration file using the following command:

```shell
npx tailwindcss-cli@latest init
```

6- The above☝️command will create a minimal config file `tailwind.config.js`, update the `purge` option as follows:

```js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  darkMode: false, // or 'media' or 'class'
  theme: {
    extend: {},
  },
  variants: {
    extend: {},
  },
  plugins: [],
};
```
